stages:
    - test
    - coverage
    - doc

test:
    stage: test
    script:
        - make test -B
        - make clean

coverage:
    stage: coverage
    script:
        - make coverage
        - make clean


doc:
    stage: doc
    only:
        - "master"
    script:
        - make doc
        - git remote set-url gitbook https://tpoisot:$GITBOOK_TOKEN@git.gitbook.com/poisotlab/befwm.git
        - git push -u gitbook master
